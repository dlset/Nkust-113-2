# 2025-05-26 ASP.NET MVC 選課系統開發紀錄

## 主要進度與功能
- 完成 ASP.NET MVC 選課系統基本功能，包含課程列表、學生登入（含註冊/變更密碼）、選課、志願序排序、刪除、學分計算。
- 使用 Entity Framework Core + SQLite，所有帳號、課程、選課資料皆永久儲存於資料庫。
- 課程資料（course.txt）自動同步匯入資料庫，支援課程新增、刪除、內容更新。
- Enrollment（選課）Model 增加 Order 欄位，正確記錄志願序，支援上下移動排序，調整順序時僅交換 Order 欄位。
- EnrollmentController、CoursesController、View 均已配合資料庫與 Order 欄位調整。
- 選課清單畫面（Enrollment/Index）可正確顯示志願序、課程名稱、學分，並支援順序調整與刪除。
- 支援帳號註冊、登入、登出、變更密碼，註冊時檢查帳號重複、密碼一致性，變更密碼支援舊密碼驗證。
- 導覽列根據登入狀態顯示登入、註冊、登出、變更密碼選項，並顯示目前登入帳號。
- 預設管理員帳號 kerong/abc123，首次登入自動建立。

# 2025-05-28 ASP.NET MVC 選課系統開發紀錄

## 技術修正與介面美化
- 修正 Razor View 與 Session 取得方式，註冊 IHttpContextAccessor，避免 NullReference 與服務未註冊錯誤。
- Migration 已同步，資料表結構正確。
- 所有功能皆以資料庫為唯一資料來源，重啟不會遺失資料。

## 介面美化與體驗提升
- 選課清單頁面（Enrollment/Index）全面美化，採用 Bootstrap Card、Icons、色彩、間距，現代化表格與操作按鈕，顯示課程代號、名稱、授課老師、學分、志願序。
- 課程列表頁面（Courses/Index）美化，表格更清晰，加入現代化按鈕與 hover 效果。
- 登入頁面（Account/Login）美化，使用卡片、icon、色彩，並加入註冊連結。
- 上下移動、刪除按鈕更直覺，禁用無法移動的按鈕。
- 導覽列根據登入狀態顯示登入、註冊、登出、變更密碼選項，並顯示目前登入帳號。
- 修正 Razor View 取得 Session 的方式，確保跨頁面顯示正確。

# 2025-05-28 ASP.NET MVC 選課系統開發紀錄（續）

## 新增功能與優化
- 新增「我的課表」功能：可依課程 Description 解析上課時間，於獨立頁面以表格方式顯示每週課表，並於選課清單與導覽列加入快捷連結。
- 選課清單頁面新增「上課時間」欄位，顯示每門課的上課時段。
- 課程列表頁面（Courses/Index）新增學分排序上下按鈕，支援依學分遞增/遞減排序，並優化搜尋與排序參數處理。
- 修正課程列表搜尋與排序功能的所有 Razor 與 Controller 錯誤，確保查詢參數、selected 屬性、型別轉換皆正確。
- 移除 @page 標籤，解決 MVC View NullReferenceException 問題。
- 所有主要頁面皆可正常建置與運作，介面現代化且操作直覺。

---

> 系統已具備現代化外觀與完整選課功能，所有資料與功能皆以資料庫為唯一來源，重啟不會遺失資料。後續可再擴充管理員後台、課程人數上限、選課衝堂檢查等進階功能。
